<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.545">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nico De Witte, Willem De Keyzer">
<meta name="dcterms.date" content="2025-11-18">

<title>Home - Aandachtspunten bij het gebruik van transcriptietools voor kwalitatief onderzoek</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../logo_cads_white.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Home</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.hogent.be/onderzoekscentra/cads"> <i class="bi bi-globe" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/hogent-cads/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/showcase/centre-for-applied-data-science/about/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Aandachtspunten bij het gebruik van transcriptietools voor kwalitatief onderzoek</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">kwalitatieve data-analyse</div>
                <div class="quarto-category">spraakherkenning</div>
                <div class="quarto-category">AI</div>
                <div class="quarto-category">onderzoek</div>
                <div class="quarto-category">privacy</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Nico De Witte, Willem De Keyzer </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 18, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#transcriptie-als-startpunt-van-interpretatie" id="toc-transcriptie-als-startpunt-van-interpretatie" class="nav-link active" data-scroll-target="#transcriptie-als-startpunt-van-interpretatie">Transcriptie als startpunt van interpretatie</a></li>
  <li><a href="#waarom-de-kwaliteit-van-ai-transcripties-sterk-varieert" id="toc-waarom-de-kwaliteit-van-ai-transcripties-sterk-varieert" class="nav-link" data-scroll-target="#waarom-de-kwaliteit-van-ai-transcripties-sterk-varieert">Waarom de kwaliteit van AI-transcripties sterk varieert</a></li>
  <li><a href="#ethiek-en-gdpr-meer-dan-een-formaliteit" id="toc-ethiek-en-gdpr-meer-dan-een-formaliteit" class="nav-link" data-scroll-target="#ethiek-en-gdpr-meer-dan-een-formaliteit">Ethiek en GDPR: meer dan een formaliteit</a></li>
  <li><a href="#ai-als-assistent-niet-als-analist" id="toc-ai-als-assistent-niet-als-analist" class="nav-link" data-scroll-target="#ai-als-assistent-niet-als-analist">AI als assistent, niet als analist</a>
  <ul class="collapse">
  <li><a href="#gevoelige-of-irrelevante-informatie-vermijden" id="toc-gevoelige-of-irrelevante-informatie-vermijden" class="nav-link" data-scroll-target="#gevoelige-of-irrelevante-informatie-vermijden">Gevoelige of irrelevante informatie vermijden</a></li>
  <li><a href="#wanneer-ai-w√©l-een-meerwaarde-biedt" id="toc-wanneer-ai-w√©l-een-meerwaarde-biedt" class="nav-link" data-scroll-target="#wanneer-ai-w√©l-een-meerwaarde-biedt">Wanneer AI w√©l een meerwaarde biedt</a></li>
  <li><a href="#tot-slot" id="toc-tot-slot" class="nav-link" data-scroll-target="#tot-slot">Tot slot</a></li>
  </ul></li>
  <li><a href="#bibliography" id="toc-bibliography" class="nav-link" data-scroll-target="#bibliography">Referenties</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Transcriptietools, vaak aangedreven door AI, zijn inmiddels niet meer weg te denken uit het kwalitatieve onderzoek. Ze bieden snelheid en effici√´ntie, maar ze roepen ook vragen op over nuance, interpretatie en ethiek. Zeker in onderzoek waar mensen, ervaringen en gevoeligheden centraal staan, is het belangrijk om verstandig om te gaan met technologie. In deze blog verkennen we de cruciale aandachtspunten bij het gebruik van transcriptietools en tonen we hoe AI een waardevolle plaats kan krijgen zonder de essentie van kwalitatief onderzoek te ondermijnen.</p>
<section id="transcriptie-als-startpunt-van-interpretatie" class="level3">
<h3 class="anchored" data-anchor-id="transcriptie-als-startpunt-van-interpretatie">Transcriptie als startpunt van interpretatie</h3>
<p>Wie kwalitatief onderzoek doet, weet dat transcriptie veel meer is dan het letterlijk uitschrijven van woorden. Tijdens het transcriberen begin je als onderzoeker al met analyseren. Je merkt pauzes op, intonatie, twijfel, omwegen, omfloerste formuleringen en alles wat een gesprek menselijk maakt. Het is in die fase dat je vertrouwd raakt met je data, dat patronen zich spontaan aandienen en dat context zich begint te vormen.</p>
<p>Transcriptietools nemen dat proces niet over. Ze zetten spraak om in tekst, maar missen de interpretatieve dimensie die voor een kwalitatief onderzoeker zo cruciaal is. Ze horen woorden, maar begrijpen geen betekenis. Ze herkennen zinnen, maar voelen geen nuance. Daarom blijft het noodzakelijk om AI-transcripties altijd zorgvuldig na te lezen en aan te vullen met menselijke observatie. AI kan je tijd besparen, maar het mag je niet vervreemden van je data.</p>
</section>
<section id="waarom-de-kwaliteit-van-ai-transcripties-sterk-varieert" class="level3">
<h3 class="anchored" data-anchor-id="waarom-de-kwaliteit-van-ai-transcripties-sterk-varieert">Waarom de kwaliteit van AI-transcripties sterk varieert</h3>
<p>Wie experimenteerde met transcriptietools, merkte al dat de kwaliteit niet altijd betrouwbaar is. Verschillen in dialect, achtergrondgeluid, overlapping tussen sprekers of vakjargon kunnen de nauwkeurigheid aanzienlijk verminderen. In onze eigen experimenten binnen CADS bleek zelfs dat een mooie, schijnbaar gestructureerde transcriptie vaak veel fouten verbergt: verkeerd toegewezen sprekers, woorden die logisch lijken maar niet gezegd werden, of verloren nuances die de interpretatie kunnen vertekenen.</p>
<p>Een transcriptietool functioneert alleen optimaal bij heldere opnames van √©√©n spreker, die duidelijk articuleert in standaardtaal. Interviews, focusgroepen en echte onderzoekscontexten voldoen zelden aan dat ideaal. Daarom blijft een kwaliteitscheck essentieel ‚Äî en vaak tijdrovend. De tijdswinst die AI biedt, wordt dus pas realiteit wanneer je voldoende aandacht hebt voor nauwkeurigheid en correctie.</p>
</section>
<section id="ethiek-en-gdpr-meer-dan-een-formaliteit" class="level3">
<h3 class="anchored" data-anchor-id="ethiek-en-gdpr-meer-dan-een-formaliteit">Ethiek en GDPR: meer dan een formaliteit</h3>
<p>Kwalitatieve data zijn vaak persoonlijk en gevoelig. Wanneer je transcriptietools gebruikt, zeker tools die in de cloud werken, verwerk je persoonsgegevens via een externe partij. Dit brengt belangrijke verplichtingen met zich mee. Onderzoekers moeten expliciet toestemming vragen aan deelnemers wanneer hun audio door een AI-tool wordt verwerkt, en ze moeten uitleggen wat er met die data gebeurt.</p>
<p>Daarnaast is databeheer cruciaal: waar worden bestanden opgeslagen, hoe lang blijven ze bestaan en wie kan er toegang toe krijgen? Niet alle tools voldoen automatisch aan GDPR-vereisten, en sommige systemen gebruiken ge√ºploade data zelfs om hun modellen te trainen. Dat is een no-go voor onderzoek waar privacy centraal staat. De veiligste aanpak is werken met tools die lokaal beheerd worden of met diensten die expliciet garanderen dat data niet worden opgeslagen.</p>
<p>Een veilige oplossing is dus om te werken met transcriptie ‚Äúon-premise‚Äù. Dat betekent dat de verwerking volledig plaatsvindt op de eigen infrastructuur van de organisatie, zonder dat audio- of tekstbestanden naar externe servers worden verzonden. Zo blijft alle data binnen de beveiligde omgeving van HOGENT.</p>
<p><strong>Veilige AI-transcriptie binnen HOGENT</strong></p>
<p>HOGENT biedt daarvoor een eigen transcriptieserver aan:<br>
üéô <a href="https://whisper.vichogent.be">https://whisper.vichogent.be</a></p>
<p>Deze dienst gebruikt de Whisper-technologie van OpenAI, maar draait volledig on-premise. Hierdoor:</p>
<ul>
<li><p>blijven alle data binnen de organisatie</p></li>
<li><p>worden geen bestanden doorgestuurd naar commerci√´le clouddiensten</p></li>
<li><p>is de verwerking beheersbaar om te voldoen aan GDPR-vereisten</p></li>
<li><p>blijft de onderzoeker eigenaar van de data</p></li>
</ul>
<p>Whisper is bovendien robuust bij variaties in uitspraak en achtergrondgeluid, wat het bijzonder geschikt maakt voor kwalitatieve interviews.</p>
</section>
<section id="ai-als-assistent-niet-als-analist" class="level2">
<h2 class="anchored" data-anchor-id="ai-als-assistent-niet-als-analist">AI als assistent, niet als analist</h2>
<p>AI heeft niet alleen een rol bij transcriptie, maar kan ook functioneren als ‚Äúsecundaire codeerder‚Äù. Dit betekent dat AI niet de analyse leidt, maar de onderzoeker ondersteunt door alternatieve interpretaties, aanvullende categorie√´n of controlevragen te genereren.</p>
<p>Deze benadering wordt beschreven in het werk van <span class="citation" data-cites="dekok2025">De Kok (<a href="#ref-dekok2025" role="doc-biblioref">2025</a>)</span>, die laat zien dat AI-modellen een waardevolle, complementaire rol kunnen spelen in kwalitatieve analyse, op voorwaarde dat de onderzoeker de primaire interpretatieve verantwoordelijkheid behoudt. AI kan patronen herkennen die je zelf mogelijk mist, maar is nooit vrij van bias of misconcepties.</p>
<p>Dit artikel illustreert mooi dat AI pas relevant wordt wanneer het ingebed is in een methodologisch verantwoord proces. De onderzoeker blijft de beslisser; AI levert input, geen oordeel.</p>
<section id="gevoelige-of-irrelevante-informatie-vermijden" class="level3">
<h3 class="anchored" data-anchor-id="gevoelige-of-irrelevante-informatie-vermijden">Gevoelige of irrelevante informatie vermijden</h3>
<p>Bij het doorsturen van data naar een AI-tool is het verstandig om vooraf te anonymiseren. Niet alleen omwille van privacy, maar ook omdat AI-helderder werkt wanneer de input is opgeschoond. Onnodige begroetingen, identificerende details of irrelevante passages voegen weinig toe aan het doel van de analyse en verhogen alleen maar het risico op privacyproblemen.</p>
<p>Bij het gebruik van AI is het verstandig om enkel de informatie te delen die strikt noodzakelijk is voor de taak. Gevoelige gegevens, identificeerbare details of irrelevante stukken zoals begroetingen of smalltalk hoef je niet te verwerken. Door je data vooraf op te schonen, bescherm je niet alleen je deelnemers, maar verhoog je ook de kwaliteit van de output: AI werkt simpelweg beter wanneer de input helder en doelgericht is.</p>
</section>
<section id="wanneer-ai-w√©l-een-meerwaarde-biedt" class="level3">
<h3 class="anchored" data-anchor-id="wanneer-ai-w√©l-een-meerwaarde-biedt">Wanneer AI w√©l een meerwaarde biedt</h3>
<p>Ondanks de uitdagingen is AI niet te vrezen. Het kan een krachtige bondgenoot zijn voor kwalitatieve onderzoekers, op voorwaarde dat het verstandig wordt ingezet. Transcripties laten genereren, interviewvragen laten optimaliseren, eerste verkennende analyses laten uitvoeren of ruwe teksten laten herschrijven‚ÄîAI kan veel werk verlichten. De kunst is om precies te weten waar AI het onderzoek versterkt, en waar het de essentie ervan bedreigt.</p>
<p>Het ideale scenario is dus een hybride aanpak: AI verzorgt repetitieve, tijdrovende taken, terwijl de onderzoeker verantwoordelijk blijft voor interpretatie, theorie-opbouw en het begrijpen van menselijke ervaringen.</p>
</section>
<section id="tot-slot" class="level3">
<h3 class="anchored" data-anchor-id="tot-slot">Tot slot</h3>
<p>Transcriptietools zijn geen wondermiddel, maar ook geen risico wanneer ze zorgvuldig en bewust worden ingezet. Ze maken kwalitatief onderzoek effici√´nter, maar nooit gemakkelijker in de zin van ‚Äòminder denken‚Äô. Integendeel: hoe meer AI we gebruiken, hoe belangrijker het wordt om onze eigen rol als kritische, reflexieve onderzoeker te bewaken.</p>
<p>Wie AI benadert als een hulpmiddel, en niet als vervanging, kan tijd winnen zonder diepgang te verliezen. Zo verbinden we het beste van twee werelden: de kracht van technologie en de fijngevoeligheid van menselijk inzicht.</p>


</section>
</section>
<section id="bibliography" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Referenties</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-dekok2025" class="csl-entry" role="listitem">
De Kok, T. (2025). Second opinions from AI: Large language models as qualitative co-analysts. <em>Management Science</em>, <em>71</em>(1), 123‚Äì141. <a href="https://doi.org/10.1287/mnsc.2023.03253">https://doi.org/10.1287/mnsc.2023.03253</a>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>